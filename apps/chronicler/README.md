# Chronicler

> The wiki your generated world finally deserves.

Chronicler is a wiki-style explorer for Lore Weave output and Illuminator narratives. It builds a navigable encyclopedia of entities, eras, chronicles, and static pages with cross-links, search, and rich media.

[![License: PolyForm Noncommercial](https://img.shields.io/badge/License-PolyForm%20Noncommercial-purple.svg)](https://polyformproject.org/licenses/noncommercial/1.0.0/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9-blue)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-19-61dafb)](https://react.dev/)

## Features (Write The Archive)

- **Wiki Pages** - Entities, eras, relationships, chronicles, and static pages
- **Auto Wikilinks** - Cross-link entity names with hover previews and jump navigation
- **Chronicle Index** - Browse long-form narratives generated by Illuminator
- **Search + Filter** - Full-text search with Fuse.js ranking
- **Media Aware** - Inline images and lore summaries where available
- **Micro-Frontend Ready** - Runs inside Canonry and powers the Viewer

## Table of Contents

- [Requirements](#requirements)
- [Quick Start](#quick-start)
- [Running In The Canonry](#running-in-the-canonry)
- [Data Expectations](#data-expectations)
- [Project Structure](#project-structure)
- [Development](#development)
- [License](#license)

## Requirements

- Node.js 18+
- npm 9+

## Quick Start

```bash
npm install
cd apps/chronicler/webui
npm run dev
```

Open `http://localhost:5007/chronicler/` for the standalone dev shell.

## Running In The Canonry

Chronicler is designed to run inside the Canonry shell.

```bash
npm run canonry
```

This starts the dev proxy plus all remotes. Open `http://localhost:3000` and navigate to the Chronicler tab.

## Data Expectations

Chronicler expects world output plus optional lore and chronicle data.

```json
{
  "worldData": {
    "schema": { "entityKinds": [], "relationshipKinds": [], "cultures": [] },
    "hardState": [],
    "relationships": [],
    "narrativeHistory": []
  },
  "loreData": { "records": [] },
  "chronicles": [
    {
      "chronicleId": "chronicle_001",
      "title": "The Siege of Iceharbor",
      "summary": "A short summary",
      "format": "story"
    }
  ],
  "staticPages": [
    { "pageId": "atlas", "title": "Atlas", "content": "..." }
  ]
}
```

## Project Structure

```
chronicler/
  webui/
    src/
      components/   # Wiki layout, nav, page rendering
      lib/          # Wiki builder and IndexedDB readers
      styles/       # Theme and layout styles
```

## Development

```bash
npm run dev
npm run build
npm run lint
```

## License

[PolyForm Noncommercial 1.0.0](https://polyformproject.org/licenses/noncommercial/1.0.0/) - free for non-commercial use.
