[{"id": "packages/narrative-store/src/index.ts::useEntityNarrativeEvents", "name": "useEntityNarrativeEvents", "kind": "hook", "filePath": "packages/narrative-store/src/index.ts", "sourceCode": "export function useEntityNarrativeEvents(\n  entityId: string | null | undefined\n): NarrativeEvent[] {\n  const ensureEntityEvents = useNarrativeStore((state) => state.ensureEntityEvents);\n  const backend = useNarrativeStore((state) => state.backend);\n  const simulationRunId = useNarrativeStore((state) => state.simulationRunId);\n  useEffect(() => {\n    if (!entityId) return;\n    if (!backend || !simulationRunId) return;\n    void ensureEntityEvents(entityId);\n  }, [backend, entityId, ensureEntityEvents, simulationRunId]);\n\n  return useNarrativeStore(\n    (state) => (entityId ? state.eventsByEntity.get(entityId) ?? EMPTY_EVENTS : EMPTY_EVENTS)\n  );\n}", "parameters": [{"name": "entityId", "type": "string | null | undefined", "optional": false}], "returnType": "NarrativeEvent[]", "jsxTree": null, "hookCalls": [{"name": "useNarrativeStore", "count": 4}, {"name": "useEffect", "count": 1}], "imports": [{"source": "react", "specifiers": ["useEffect"], "category": "framework"}, {"source": "zustand", "specifiers": ["create"], "category": "framework"}, {"source": "zustand/middleware", "specifiers": ["subscribeWithSelector"], "category": "framework"}, {"source": "@canonry/world-schema", "specifiers": ["NarrativeEvent"], "category": "external"}], "storeAccess": ["useNarrativeStore"]}, {"id": "packages/narrative-store/src/index.ts::useNarrativeStatus", "name": "useNarrativeStatus", "kind": "hook", "filePath": "packages/narrative-store/src/index.ts", "sourceCode": "export function useNarrativeStatus(): NarrativeStatus {\n  return useNarrativeStore((state) => state.status);\n}", "parameters": [], "returnType": "NarrativeStatus", "jsxTree": null, "hookCalls": [{"name": "useNarrativeStore", "count": 1}], "imports": [{"source": "react", "specifiers": ["useEffect"], "category": "framework"}, {"source": "zustand", "specifiers": ["create"], "category": "framework"}, {"source": "zustand/middleware", "specifiers": ["subscribeWithSelector"], "category": "framework"}, {"source": "@canonry/world-schema", "specifiers": ["NarrativeEvent"], "category": "external"}], "storeAccess": ["useNarrativeStore"]}, {"id": "packages/narrative-store/src/index.ts::useNarrativeLoading", "name": "useNarrativeLoading", "kind": "hook", "filePath": "packages/narrative-store/src/index.ts", "sourceCode": "export function useNarrativeLoading(): boolean {\n  return useNarrativeStore((state) => state.status.loading);\n}", "parameters": [], "returnType": "boolean", "jsxTree": null, "hookCalls": [{"name": "useNarrativeStore", "count": 1}], "imports": [{"source": "react", "specifiers": ["useEffect"], "category": "framework"}, {"source": "zustand", "specifiers": ["create"], "category": "framework"}, {"source": "zustand/middleware", "specifiers": ["subscribeWithSelector"], "category": "framework"}, {"source": "@canonry/world-schema", "specifiers": ["NarrativeEvent"], "category": "external"}], "storeAccess": ["useNarrativeStore"]}, {"id": "packages/narrative-store/src/index.ts::useEntityNarrativeLoading", "name": "useEntityNarrativeLoading", "kind": "hook", "filePath": "packages/narrative-store/src/index.ts", "sourceCode": "export function useEntityNarrativeLoading(entityId: string | null | undefined): boolean {\n  return useNarrativeStore((state) => {\n    if (!entityId) return false;\n    return state.loadingEntityIds.has(entityId);\n  });\n}", "parameters": [{"name": "entityId", "type": "string | null | undefined", "optional": false}], "returnType": "boolean", "jsxTree": null, "hookCalls": [{"name": "useNarrativeStore", "count": 1}], "imports": [{"source": "react", "specifiers": ["useEffect"], "category": "framework"}, {"source": "zustand", "specifiers": ["create"], "category": "framework"}, {"source": "zustand/middleware", "specifiers": ["subscribeWithSelector"], "category": "framework"}, {"source": "@canonry/world-schema", "specifiers": ["NarrativeEvent"], "category": "external"}], "storeAccess": ["useNarrativeStore"]}, {"id": "packages/narrative-store/src/index.ts::useEntityNarrativeReady", "name": "useEntityNarrativeReady", "kind": "hook", "filePath": "packages/narrative-store/src/index.ts", "sourceCode": "export function useEntityNarrativeReady(entityId: string | null | undefined): boolean {\n  return useNarrativeStore((state) => {\n    if (!entityId) return true;\n    return state.loadedEntityIds.has(entityId);\n  });\n}", "parameters": [{"name": "entityId", "type": "string | null | undefined", "optional": false}], "returnType": "boolean", "jsxTree": null, "hookCalls": [{"name": "useNarrativeStore", "count": 1}], "imports": [{"source": "react", "specifiers": ["useEffect"], "category": "framework"}, {"source": "zustand", "specifiers": ["create"], "category": "framework"}, {"source": "zustand/middleware", "specifiers": ["subscribeWithSelector"], "category": "framework"}, {"source": "@canonry/world-schema", "specifiers": ["NarrativeEvent"], "category": "external"}], "storeAccess": ["useNarrativeStore"]}, {"id": "packages/narrative-store/src/index.ts::useAllNarrativeEvents", "name": "useAllNarrativeEvents", "kind": "hook", "filePath": "packages/narrative-store/src/index.ts", "sourceCode": "export function useAllNarrativeEvents(): NarrativeEvent[] {\n  return useNarrativeStore((state) => Array.from(state.eventsById.values()));\n}", "parameters": [], "returnType": "NarrativeEvent[]", "jsxTree": null, "hookCalls": [{"name": "useNarrativeStore", "count": 1}], "imports": [{"source": "react", "specifiers": ["useEffect"], "category": "framework"}, {"source": "zustand", "specifiers": ["create"], "category": "framework"}, {"source": "zustand/middleware", "specifiers": ["subscribeWithSelector"], "category": "framework"}, {"source": "@canonry/world-schema", "specifiers": ["NarrativeEvent"], "category": "external"}], "storeAccess": ["useNarrativeStore"]}, {"id": "packages/narrative-store/src/index.ts::useAllNarrativeEventsLoading", "name": "useAllNarrativeEventsLoading", "kind": "hook", "filePath": "packages/narrative-store/src/index.ts", "sourceCode": "export function useAllNarrativeEventsLoading(): boolean {\n  return useNarrativeStore((state) => state.allEventsLoading);\n}", "parameters": [], "returnType": "boolean", "jsxTree": null, "hookCalls": [{"name": "useNarrativeStore", "count": 1}], "imports": [{"source": "react", "specifiers": ["useEffect"], "category": "framework"}, {"source": "zustand", "specifiers": ["create"], "category": "framework"}, {"source": "zustand/middleware", "specifiers": ["subscribeWithSelector"], "category": "framework"}, {"source": "@canonry/world-schema", "specifiers": ["NarrativeEvent"], "category": "external"}], "storeAccess": ["useNarrativeStore"]}, {"id": "packages/narrative-store/src/index.ts::useAllNarrativeEventsLoaded", "name": "useAllNarrativeEventsLoaded", "kind": "hook", "filePath": "packages/narrative-store/src/index.ts", "sourceCode": "export function useAllNarrativeEventsLoaded(): boolean {\n  return useNarrativeStore((state) => state.allEventsLoaded);\n}", "parameters": [], "returnType": "boolean", "jsxTree": null, "hookCalls": [{"name": "useNarrativeStore", "count": 1}], "imports": [{"source": "react", "specifiers": ["useEffect"], "category": "framework"}, {"source": "zustand", "specifiers": ["create"], "category": "framework"}, {"source": "zustand/middleware", "specifiers": ["subscribeWithSelector"], "category": "framework"}, {"source": "@canonry/world-schema", "specifiers": ["NarrativeEvent"], "category": "external"}], "storeAccess": ["useNarrativeStore"]}]