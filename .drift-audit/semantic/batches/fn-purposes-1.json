[
  {"unitId": "apps/illuminator/webui/src/components/ResultsPanel.jsx::default", "purpose": "Renders a filterable, selectable grid of enrichment task results and entity cards with image preview support"},
  {"unitId": "apps/illuminator/webui/src/components/RevisionFilterModal.jsx::default", "purpose": "Presents a modal dialog for configuring bulk entity revision runs with optional exclusion of entities already used in chronicles"},
  {"unitId": "apps/illuminator/webui/src/components/StaticPageEditor.jsx::default", "purpose": "Provides a rich editor for creating and editing static project pages with title, content, summary, auto-save, and entity/image picker integration"},
  {"unitId": "apps/illuminator/webui/src/components/StaticPagesPanel.jsx::default", "purpose": "Manages the list of static pages for a project, supporting selection, creation, editing, and deletion via a split-pane layout"},
  {"unitId": "apps/illuminator/webui/src/components/StoragePanel.jsx::default", "purpose": "Displays and manages all stored images across projects with thumbnail previews, selection, filtering, download, and bulk deletion"},
  {"unitId": "apps/illuminator/webui/src/components/StyleLibraryEditor.jsx::default", "purpose": "Provides a full CRUD editor for the artistic, composition, and narrative style library entries with inline editing and reset support"},
  {"unitId": "apps/illuminator/webui/src/components/StyleSelector.jsx::default", "purpose": "Renders dropdown selectors for artistic style, composition style, and color palette, filtering options by entity kind and supporting compact display"},
  {"unitId": "apps/illuminator/webui/src/components/StyleSelector.jsx::resolveStyleSelection", "purpose": "Resolves a style selection object into concrete style definitions by applying culture defaults, random sampling with exclusion rules, and fallback logic"},
  {"unitId": "apps/illuminator/webui/src/components/SummaryRevisionModal.jsx::default", "purpose": "Renders the modal UI for reviewing, accepting, toggling, and applying AI-generated description revision patches with diff view and anchor phrase editing"},
  {"unitId": "apps/illuminator/webui/src/components/ToneAssignmentPreviewModal.jsx::default", "purpose": "Shows a preview modal of bulk tone assignments across chronicles, allowing per-entry manual overrides and displaying the resulting tone distribution before applying"},
  {"unitId": "apps/illuminator/webui/src/components/TraitPaletteSection.tsx::default", "purpose": "Manages the trait palette editing UI for generating, viewing, and queueing AI-expanded trait palettes organized by entity kind and subtype"},
  {"unitId": "apps/illuminator/webui/src/components/VisualIdentityPanel.jsx::default", "purpose": "Provides a table-based editor for configuring per-culture visual and descriptive identity key-value pairs with entity-kind filtering"},
  {"unitId": "apps/illuminator/webui/src/components/WorldContextEditor.jsx::default", "purpose": "Renders a form editor for world context fields including name, description, tone fragments, canon facts, and dynamics file import"},
  {"unitId": "apps/illuminator/webui/src/hooks/useApiKeys.js::default", "purpose": "Manages Anthropic and OpenAI API key state with optional localStorage persistence and a toggle for showing the key input UI"},
  {"unitId": "apps/illuminator/webui/src/hooks/useChronicleGeneration.ts::deriveStatus", "purpose": "Derives the current generation status of a chronicle record from its data fields rather than relying on a potentially stale stored status value"},
  {"unitId": "apps/illuminator/webui/src/hooks/useConfigSync.js::default", "purpose": "Synchronizes enrichment configuration between external prop changes and local state with debounced dirty-write propagation back to the parent"},
  {"unitId": "apps/illuminator/webui/src/hooks/useEntityCrud.ts::reloadEntities", "purpose": "Refreshes the entity store for the current simulation run and notifies the host shell, optionally invalidating specific entity IDs"},
  {"unitId": "apps/illuminator/webui/src/hooks/useEntityGuidanceSync.js::default", "purpose": "Synchronizes entity guidance and culture identity state between external prop updates and local form state with debounced upstream propagation"},
  {"unitId": "apps/illuminator/webui/src/hooks/useHistorianActions.ts::registerHistorianStarters", "purpose": "Stores the primitive historian hook start functions so they can be invoked later by the IlluminatorRemote without direct prop threading"},
  {"unitId": "apps/illuminator/webui/src/hooks/useHistorianConfigSync.js::default", "purpose": "Synchronizes historian configuration between external prop changes and local state, migrating legacy config formats on first load"},
  {"unitId": "apps/illuminator/webui/src/hooks/useSlotManagement.js::default", "purpose": "Loads and manages the active simulation slot record for a given project and slot index, clearing state on project or slot changes"},
  {"unitId": "apps/illuminator/webui/src/hooks/useToneRanking.ts::assignCorpusTones", "purpose": "Assigns narrative tones to chronicles across a corpus by preferring each chronicle's top-ranked tone while balancing overall tone distribution"},
  {"unitId": "apps/illuminator/webui/src/hooks/useToneRanking.ts::countDistribution", "purpose": "Counts how many chronicles have been assigned each tone across a set of tone assignment entries"},
  {"unitId": "apps/illuminator/webui/src/hooks/useWorldContextSync.js::default", "purpose": "Synchronizes world context state between external prop changes and local state with debounced upstream dirty-write propagation"},
  {"unitId": "apps/illuminator/webui/src/lib/annotateEntityNames.ts::annotateEntityNames", "purpose": "Inserts inline annotation markers around all non-overlapping entity name occurrences in a text string using an Aho-Corasick candidate list"},
  {"unitId": "apps/illuminator/webui/src/lib/browserTaskExecutor.ts::executeBrowserTask", "purpose": "Runs an enrichment task synchronously in the main browser thread using the same LLM and image clients as the worker path, returning a unified TaskResult"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicleContextBuilder.ts::buildEventHeadline", "purpose": "Constructs a human-readable headline string for a narrative event by combining its subject name, action, and optional description"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicleContextBuilder.ts::buildChronicleContext", "purpose": "Assembles the complete generation context for a chronicle from role assignments, world data, narrative style, name bank, and prose hints"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicleContextBuilder.ts::checkPrerequisites", "purpose": "Validates that all primary role entities in a chronicle context have the required descriptions before generation can proceed"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicleContextBuilder.ts::summarizeContext", "purpose": "Returns counts and lists of prominent entities and high-significance events from a chronicle generation context for display purposes"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicleExport.ts::buildChronicleExport", "purpose": "Constructs a serializable ChronicleExport object from stored chronicle record data, including all versions, metadata, and annotations"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicleExport.ts::downloadChronicleExport", "purpose": "Triggers a browser file download of a chronicle's full export data as a formatted JSON file"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicleExport.ts::downloadBulkAnnotationReviewExport", "purpose": "Exports all annotated chronicles for a simulation run as a downloadable CSV for bulk historian annotation review"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicleExport.ts::downloadBulkToneReviewExport", "purpose": "Exports tone assignments, word counts, and corpus fact strength scores for all completed chronicles as a downloadable CSV"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicleExport.ts::buildEraNarrativeExport", "purpose": "Constructs a serializable export object for an era narrative record including its source briefs and all metadata"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicleExport.ts::downloadEraNarrativeExport", "purpose": "Triggers a browser file download of an era narrative's export data as a formatted JSON file"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicleTypes.ts::computeBackportProgress", "purpose": "Computes how many of a chronicle's eligible entities (primary roles, lens, accepted tertiary cast) have completed backport status entries"},
  {"unitId": "apps/illuminator/webui/src/lib/constellationAnalyzer.ts::analyzeConstellation", "purpose": "Analyzes the culture mix, entity kind distribution, tag frequencies, relationship kinds, and era span of a set of entities and events to produce a constellation summary"},
  {"unitId": "apps/illuminator/webui/src/lib/costEstimation.ts::estimateTokens", "purpose": "Estimates the number of LLM tokens in a text string using a word-count heuristic"},
  {"unitId": "apps/illuminator/webui/src/lib/costEstimation.ts::estimateTextCost", "purpose": "Estimates the USD cost of a text description enrichment call given a prompt, output type, and model"},
  {"unitId": "apps/illuminator/webui/src/lib/costEstimation.ts::estimateTextCostForCall", "purpose": "Estimates the USD cost of any typed LLM text call given a prompt, call type, model, and optional output token override"},
  {"unitId": "apps/illuminator/webui/src/lib/costEstimation.ts::estimateImageCost", "purpose": "Estimates the USD cost of an image generation call for a given model, size, and quality setting"},
  {"unitId": "apps/illuminator/webui/src/lib/costEstimation.ts::calculateActualTextCost", "purpose": "Calculates the actual USD cost of a completed text LLM call from its real input and output token counts and model"},
  {"unitId": "apps/illuminator/webui/src/lib/costEstimation.ts::calculateActualImageCost", "purpose": "Calculates the actual USD cost of a completed image generation call, using token-based pricing for GPT models and per-image pricing for DALL-E"},
  {"unitId": "apps/illuminator/webui/src/lib/costEstimation.ts::createEmptyCostSummary", "purpose": "Creates a zeroed-out CostSummary object suitable as a starting accumulator for cost tracking"},
  {"unitId": "apps/illuminator/webui/src/lib/costEstimation.ts::formatCost", "purpose": "Formats a USD cost value as a human-readable string with appropriate decimal precision"},
  {"unitId": "apps/illuminator/webui/src/lib/costEstimation.ts::formatEstimatedCost", "purpose": "Formats an estimated USD cost as a tilde-prefixed string to indicate it is an approximation"},
  {"unitId": "apps/illuminator/webui/src/lib/coverImageStyles.ts::getCoverImageConfig", "purpose": "Returns the cover image generation configuration for a given narrative style ID, falling back to a default config if the style is not found"},
  {"unitId": "apps/illuminator/webui/src/lib/coverImageStyles.ts::getScenePromptTemplate", "purpose": "Returns the scene prompt template for a given template ID, falling back to the montage template if the ID is not found"},
  {"unitId": "apps/illuminator/webui/src/lib/descriptionHistoryCompression.ts::wordSimilarity", "purpose": "Computes the Jaccard similarity between two strings based on their word sets, returning a value between 0 and 1"},
  {"unitId": "apps/illuminator/webui/src/lib/descriptionHistoryCompression.ts::compressDescriptionHistory", "purpose": "Reduces a description history array by grouping and collapsing similar consecutive entries from the same source to limit memory growth"},
  {"unitId": "apps/illuminator/webui/src/lib/enrichmentTypes.ts::getEnrichmentStatus", "purpose": "Returns the current enrichment status of an entity for a given type by checking the task queue first and then the entity's stored enrichment fields"},
  {"unitId": "apps/illuminator/webui/src/lib/enrichmentTypes.ts::needsEnrichment", "purpose": "Determines whether an entity is missing enrichment data of a given type such as description, image, or entity chronicle"},
  {"unitId": "apps/illuminator/webui/src/lib/enrichmentTypes.ts::applyEnrichmentResult", "purpose": "Merges an enrichment result into an entity's enrichment metadata and produces the corresponding entity field updates to be applied by the caller"},
  {"unitId": "apps/illuminator/webui/src/lib/entityRename.ts::scanForReferences", "purpose": "Scans all entities, chronicles, and narrative events for text and foreign-key references to a given entity name and ID, returning a structured match set for user review"},
  {"unitId": "apps/illuminator/webui/src/lib/entityRename.ts::adjustReplacementForGrammar", "purpose": "Adjusts a replacement string for grammatical consistency with its surrounding context by matching case pattern and correcting preceding articles"},
  {"unitId": "apps/illuminator/webui/src/lib/entityRename.ts::applyReplacements", "purpose": "Applies a list of non-overlapping text replacements to a string in reverse position order to preserve character offsets"},
  {"unitId": "apps/illuminator/webui/src/lib/entityRename.ts::buildRenamePatches", "purpose": "Converts user rename decisions from a scan result into structured patch sets for entities, chronicles, and narrative events"},
  {"unitId": "apps/illuminator/webui/src/lib/entityRename.ts::applyEntityPatches", "purpose": "Applies rename patches to an entity array, updating summary, description, and description history text fields"},
  {"unitId": "apps/illuminator/webui/src/lib/entityRename.ts::applyChroniclePatches", "purpose": "Reads each affected chronicle from IndexedDB, applies rename text patches, and writes the updated records back"},
  {"unitId": "apps/illuminator/webui/src/lib/entityRename.ts::applyNarrativeEventPatches", "purpose": "Applies rename patches to a narrative event array, updating structured name metadata fields and performing text replacements"},
  {"unitId": "apps/illuminator/webui/src/lib/entityRename.ts::patchNarrativeHistory", "purpose": "Performs a brute-force find-and-replace of an entity name across all fields of every narrative event where the entity appears, without per-match decision logic"},
  {"unitId": "apps/illuminator/webui/src/lib/fuzzyAnchor.ts::resolveAnchorPhrase", "purpose": "Locates the position of an anchor phrase within a text using exact match first, then fuzzy content-word matching, returning character offsets"},
  {"unitId": "apps/illuminator/webui/src/lib/fuzzyAnchor.ts::extractWordsAroundIndex", "purpose": "Extracts a window of words centered around a character index in a text, snapping to word boundaries for use as a fallback anchor phrase"},
  {"unitId": "apps/illuminator/webui/src/lib/historianContextBuilders.ts::collectPreviousNotes", "purpose": "Gathers a sample of previous historian annotation notes related to specified entities and chronicles for use as context in new annotation sessions"},
  {"unitId": "apps/illuminator/webui/src/lib/historianContextBuilders.ts::buildHistorianEditionContext", "purpose": "Assembles the full context configuration needed for a historian edition session on an entity, including world context, style, and prior notes"},
  {"unitId": "apps/illuminator/webui/src/lib/historianContextBuilders.ts::buildHistorianReviewContext", "purpose": "Assembles the full context configuration for a historian annotation review session on an entity, including tone, voice digest, and sampled prior notes"},
  {"unitId": "apps/illuminator/webui/src/lib/historianContextBuilders.ts::buildChronicleReviewContext", "purpose": "Assembles the full context configuration for a historian annotation review session on a chronicle, including tone, corpus strength, and reinforcement data"},
  {"unitId": "apps/illuminator/webui/src/lib/historianContextBuilders.ts::buildCorpusVoiceDigest", "purpose": "Builds a digest of corpus-wide style patterns such as superlative claims and overused openings to guide the historian toward varied prose"},
  {"unitId": "apps/illuminator/webui/src/lib/historianContextBuilders.ts::buildFactCoverageGuidance", "purpose": "Produces a prioritized list of under-represented canon facts the historian should surface or connect to, dampened by facts already reinforced above their fair share"},
  {"unitId": "apps/illuminator/webui/src/lib/historianTypes.ts::noteDisplay", "purpose": "Resolves the effective display mode of a historian note, converting the legacy boolean enabled field to the current HistorianNoteDisplay enum"},
  {"unitId": "apps/illuminator/webui/src/lib/historianTypes.ts::isNoteActive", "purpose": "Returns true if a historian note is not disabled, meaning it will participate in context and annotation logic"},
  {"unitId": "apps/illuminator/webui/src/lib/historianTypes.ts::isHistorianConfigured", "purpose": "Checks whether a historian config has a non-empty name and background, indicating it has been meaningfully set up"},
  {"unitId": "apps/illuminator/webui/src/lib/historianTypes.ts::computeNoteRange", "purpose": "Returns the recommended minimum and maximum number of historian annotations for a target based on its type and word count"},
  {"unitId": "apps/illuminator/webui/src/lib/imageRefCompatibility.ts::analyzeImageRefCompatibility", "purpose": "Analyzes all image references from a prior chronicle version for compatibility with new content, recommending reuse or regeneration for each"},
  {"unitId": "apps/illuminator/webui/src/lib/imageRefCompatibility.ts::createDefaultSelections", "purpose": "Creates a default action selection array from a compatibility analysis, marking each image ref for reuse or regeneration based on its recommendation"},
  {"unitId": "apps/illuminator/webui/src/lib/imageSettings.ts::getSizeOptions", "purpose": "Returns the list of valid size options for a given image generation model"},
  {"unitId": "apps/illuminator/webui/src/lib/imageSettings.ts::getQualityOptions", "purpose": "Returns the list of valid quality options for a given image generation model"},
  {"unitId": "apps/illuminator/webui/src/lib/imageSettings.ts::getDefaultSize", "purpose": "Returns the default image size for a given model, falling back to 1024x1024 if no options are configured"},
  {"unitId": "apps/illuminator/webui/src/lib/imageSettings.ts::getDefaultQuality", "purpose": "Returns the default image quality setting for a given model, falling back to standard if no options are configured"},
  {"unitId": "apps/illuminator/webui/src/lib/imageSettings.ts::isValidSize", "purpose": "Checks whether a given size string is a valid option for the specified image generation model"},
  {"unitId": "apps/illuminator/webui/src/lib/imageSettings.ts::isValidQuality", "purpose": "Checks whether a given quality string is a valid option for the specified image generation model"},
  {"unitId": "apps/illuminator/webui/src/lib/jsonParsing.ts::stripLeadingWrapper", "purpose": "Removes common LLM preamble patterns such as markdown code fences and explanatory prefixes from a text string before JSON parsing"},
  {"unitId": "apps/illuminator/webui/src/lib/jsonParsing.ts::extractFirstJsonObject", "purpose": "Scans a text string character-by-character to extract the first complete balanced JSON object, handling strings and nested structures"},
  {"unitId": "apps/illuminator/webui/src/lib/jsonParsing.ts::parseJsonValue", "purpose": "Parses a JSON value from an LLM response string by stripping wrappers, extracting the first JSON object, and throwing a descriptive error on failure"},
  {"unitId": "apps/illuminator/webui/src/lib/jsonParsing.ts::parseJsonObject", "purpose": "Parses and validates that an LLM response contains a JSON object (not an array or primitive), throwing if the parsed value is not an object"},
  {"unitId": "apps/illuminator/webui/src/lib/llmBudget.ts::calcTokenBudget", "purpose": "Calculates the response token budget and thinking token budget for an LLM call based on the call type defaults and any per-call config overrides"},
  {"unitId": "apps/illuminator/webui/src/lib/llmCallTypes.ts::getCallTypesByCategory", "purpose": "Returns all LLM call types organized into their category groups for display in the settings UI"},
  {"unitId": "apps/illuminator/webui/src/lib/llmModelSettings.ts::getLLMModelSettings", "purpose": "Loads LLM model settings from localStorage, migrating from older versions if needed"},
  {"unitId": "apps/illuminator/webui/src/lib/llmModelSettings.ts::saveLLMModelSettings", "purpose": "Persists LLM model settings to localStorage, stripping out overrides that match the defaults to keep storage minimal"},
  {"unitId": "apps/illuminator/webui/src/lib/llmModelSettings.ts::getModelForCall", "purpose": "Returns the configured model for a specific LLM call type, falling back to the call type's default model if no override is set"},
  {"unitId": "apps/illuminator/webui/src/lib/llmModelSettings.ts::getThinkingBudgetForCall", "purpose": "Returns the configured thinking budget for a specific LLM call type, falling back to the call type's default if no override is set"},
  {"unitId": "apps/illuminator/webui/src/lib/llmModelSettings.ts::getMaxTokensForCall", "purpose": "Returns the configured max response tokens for a specific LLM call type, falling back to the call type's default if no override is set"},
  {"unitId": "apps/illuminator/webui/src/lib/llmModelSettings.ts::getCallConfig", "purpose": "Returns the fully resolved configuration for an LLM call type including model, thinking budget, max tokens, and temperature with overrides applied"},
  {"unitId": "apps/illuminator/webui/src/lib/llmModelSettings.ts::getResolvedLLMCallSettings", "purpose": "Returns a resolved configuration object for every known LLM call type, suitable for passing to a worker"},
  {"unitId": "apps/illuminator/webui/src/lib/llmModelSettings.ts::updateCallConfig", "purpose": "Updates the stored configuration override for a specific LLM call type and persists the change to localStorage"},
  {"unitId": "apps/illuminator/webui/src/lib/llmModelSettings.ts::resetToDefaults", "purpose": "Clears all per-call LLM model overrides and resets settings to factory defaults"},
  {"unitId": "apps/illuminator/webui/src/lib/llmModelSettings.ts::hasOverrides", "purpose": "Returns true if a specific LLM call type has any stored settings that differ from its defaults"},
  {"unitId": "apps/illuminator/webui/src/lib/llmModelSettings.ts::getOverrideCount", "purpose": "Counts how many LLM call types currently have active overrides from their defaults"},
  {"unitId": "apps/illuminator/webui/src/lib/llmTextCall.ts::runTextCall", "purpose": "Executes a typed LLM text completion call with token budget calculation, cost estimation, streaming callbacks, and returns the result with actual usage data"},
  {"unitId": "apps/illuminator/webui/src/lib/perspectiveSynthesizer.ts::synthesizePerspective", "purpose": "Calls the LLM to synthesize an entity's perspective and tone fragments from its facts and metadata, returning structured synthesis output"},
  {"unitId": "apps/illuminator/webui/src/lib/promptBuilders.ts::getTone", "purpose": "Extracts the core tone string from a structured WorldContext object"},
  {"unitId": "apps/illuminator/webui/src/lib/promptBuilders.ts::getCanonFacts", "purpose": "Extracts the plain text strings from a WorldContext's structured canon facts with metadata array"},
  {"unitId": "apps/illuminator/webui/src/lib/promptBuilders.ts::getKindGuidance", "purpose": "Retrieves the guidance configuration for a specific entity kind from the EntityGuidance map"},
  {"unitId": "apps/illuminator/webui/src/lib/promptBuilders.ts::getFilteredVisualIdentity", "purpose": "Returns a culture's visual identity key-value pairs filtered to only those keys applicable to a given entity kind"},
  {"unitId": "apps/illuminator/webui/src/lib/promptBuilders.ts::getFilteredDescriptiveIdentity", "purpose": "Returns a culture's descriptive identity key-value pairs filtered to only those keys applicable to a given entity kind"},
  {"unitId": "apps/illuminator/webui/src/lib/promptBuilders.ts::buildProseHints", "purpose": "Aggregates per-entity-kind prose hint strings from the entity guidance map into a single formatted block for chronicle generation prompts"},
  {"unitId": "apps/illuminator/webui/src/lib/promptBuilders.ts::buildDescriptionPromptFromGuidance", "purpose": "Constructs the full LLM description prompt for an entity using its kind guidance, culture identities, and world context"},
  {"unitId": "apps/illuminator/webui/src/lib/promptBuilders.ts::buildImagePromptFromGuidance", "purpose": "Constructs the full LLM image generation prompt for an entity using its kind guidance, culture identities, world context, and optional style info"},
  {"unitId": "apps/illuminator/webui/src/lib/promptBuilders.ts::getVisualConfigFromGuidance", "purpose": "Extracts the visual avoidance rules and visual thesis and traits prompt instructions for an entity kind from the entity guidance map"},
  {"unitId": "apps/illuminator/webui/src/lib/promptBuilders.ts::createDefaultEntityGuidance", "purpose": "Returns an empty EntityGuidance object to use as the default when no guidance has been configured"},
  {"unitId": "apps/illuminator/webui/src/lib/promptBuilders.ts::createDefaultCultureIdentities", "purpose": "Returns an empty CultureIdentities object with all required nested maps initialized to use as the default when no identities are configured"},
  {"unitId": "apps/illuminator/webui/src/lib/promptBuilders.ts::buildChronicleScenePrompt", "purpose": "Constructs an image generation prompt for a chronicle scene or montage, placing style and palette rendering directives before the scene description"},
  {"unitId": "apps/illuminator/webui/src/lib/traitPalette.ts::expandPalette", "purpose": "Uses the LLM to generate an expanded set of trait palette entries for a given entity kind and world context"},
  {"unitId": "apps/illuminator/webui/src/lib/wikiLinkService.ts::findEntityMentions", "purpose": "Finds all entity name mentions in a text using Aho-Corasick matching, returning one match per entity for membership detection"},
  {"unitId": "apps/illuminator/webui/src/lib/wikiLinkService.ts::applyWikiLinks", "purpose": "Inserts wiki-link annotations into a text for all detected non-overlapping entity name occurrences, returning the annotated text and link metadata"},
  {"unitId": "apps/illuminator/webui/src/lib/workerFactory.ts::isSharedWorkerSupported", "purpose": "Returns true if the SharedWorker API is available in the current browser environment"},
  {"unitId": "apps/illuminator/webui/src/lib/workerFactory.ts::isServiceWorkerSupported", "purpose": "Returns true if the Service Worker API is available and the page is running in a secure context"},
  {"unitId": "apps/illuminator/webui/src/lib/workerFactory.ts::createWorker", "purpose": "Creates and initializes an abstracted worker handle that uses a service worker, shared worker, or regular worker depending on browser support"},
  {"unitId": "apps/illuminator/webui/src/lib/workerFactory.ts::createWorkerPool", "purpose": "Creates a pool of worker handles of the requested size, preferring service workers and shared workers over dedicated workers"},
  {"unitId": "apps/illuminator/webui/src/lib/workerFactory.ts::resetWorkerPool", "purpose": "Terminates all worker handles in both the shared worker and service worker pools and clears the pool arrays and handle maps"},
  {"unitId": "apps/illuminator/webui/src/workers/clients.ts::createClients", "purpose": "Instantiates LLM and image API clients from a worker configuration for use in enrichment task execution"},
  {"unitId": "apps/illuminator/webui/src/workers/enrichmentCore.ts::createClients", "purpose": "Instantiates LLM and image API clients from a worker configuration for use in enrichment core task execution"},
  {"unitId": "apps/illuminator/webui/src/workers/enrichmentCore.ts::executeTask", "purpose": "Dispatches an enrichment task to its registered handler, wrapping the LLM client to inject streaming delta callbacks transparently"},
  {"unitId": "packages/shared-components/src/components/badges/DetailUsageBadges.jsx::default", "purpose": "Renders a set of compact usage badges showing which generators, systems, and other tools reference a given detail item, with an orphan indicator when unused"},
  {"unitId": "packages/shared-components/src/components/badges/ToolUsageBadges.jsx::default", "purpose": "Renders a set of tool usage count badges with optional compact icon-only mode and zero-count visibility control"},
  {"unitId": "packages/shared-components/src/components/CoverageMatrix/CoverageMatrix.jsx::default", "purpose": "Renders a searchable, filterable, and groupable grid matrix showing coverage relationships between rows and columns with configurable cell display and click handlers"},
  {"unitId": "apps/illuminator/webui/src/components/chronicle-workspace/ChronicleVersionSelector.jsx::default", "purpose": "Renders a version selection row with active/compare mode switching, active version promotion, and delete-with-confirmation for a chronicle's generation history"},
  {"unitId": "apps/illuminator/webui/src/components/chronicle-workspace/ChronicleWorkspace.jsx::default", "purpose": "Renders the full multi-tab chronicle editing workspace with content, versions, enrichment, historian, images, pipeline, and reference tabs"},
  {"unitId": "apps/illuminator/webui/src/components/chronicle-workspace/ContentTab.jsx::default", "purpose": "Renders the content tab of the chronicle workspace showing the active version text with version switching, comparison, and quick check controls"},
  {"unitId": "apps/illuminator/webui/src/components/chronicle-workspace/EnrichmentTab.jsx::default", "purpose": "Renders the enrichment tab with controls for AI-generating and displaying the chronicle's title and summary refinements"},
  {"unitId": "apps/illuminator/webui/src/components/chronicle-workspace/HistorianTab.jsx::default", "purpose": "Renders the historian tab with tone assignment, historian review, backport lore, and prep generation controls for a chronicle"},
  {"unitId": "apps/illuminator/webui/src/components/chronicle-workspace/ImagesTab.jsx::default", "purpose": "Renders the images tab for managing chronicle cover image scene generation, image generation, anchor text, and per-ref image controls"},
  {"unitId": "apps/illuminator/webui/src/components/chronicle-workspace/PipelineTab.jsx::default", "purpose": "Renders the pipeline tab showing the ordered sequence of generation steps with action buttons for validation, summaries, titles, image refs, and cover images"},
  {"unitId": "apps/illuminator/webui/src/components/chronicle-workspace/ReferenceTab.jsx::default", "purpose": "Renders the reference tab displaying perspective synthesis, the entity relationship graph, and the narrative event timeline for the chronicle's selection context"},
  {"unitId": "apps/illuminator/webui/src/components/chronicle-workspace/VersionsTab.jsx::default", "purpose": "Renders the versions tab with the full generation history list, version comparison, combination, copy-edit, and regeneration actions"},
  {"unitId": "apps/illuminator/webui/src/components/chronicle-workspace/WorkspaceHeader.jsx::default", "purpose": "Renders the chronicle workspace header bar with title, word count, status indicator, and a dropdown menu for accept, regenerate, export, and unpublish actions"},
  {"unitId": "apps/illuminator/webui/src/components/chronicle-workspace/WorkspaceTabBar.jsx::default", "purpose": "Renders the tab navigation bar for the chronicle workspace, highlighting the active tab and supporting right-aligned tab placement"},
  {"unitId": "apps/illuminator/webui/src/components/ChronicleWizard/ChronicleWizard.tsx::default", "purpose": "Wraps the inner chronicle wizard component with the wizard state provider, rendering nothing when the wizard is closed"},
  {"unitId": "apps/illuminator/webui/src/components/preprint/ContentPalette.tsx::default", "purpose": "Renders a filterable, sortable palette of all available entities, chronicles, static pages, and era narratives not yet included in the preprint tree"},
  {"unitId": "apps/illuminator/webui/src/components/preprint/ContentTreeView.tsx::default", "purpose": "Renders a drag-and-drop tree editor for organizing preprint content into folders with inline folder creation and node selection"},
  {"unitId": "apps/illuminator/webui/src/components/preprint/ExportView.tsx::default", "purpose": "Renders the export configuration UI for generating a preprint in markdown or IDML format with layout and font options"},
  {"unitId": "apps/illuminator/webui/src/components/preprint/PageLayoutEditor.tsx::default", "purpose": "Renders a per-page layout override editor that loads, edits, and saves IDML layout parameters for a specific preprint page"},
  {"unitId": "apps/illuminator/webui/src/components/preprint/StatsView.tsx::default", "purpose": "Renders the preprint statistics panel that computes and displays word counts, image counts, and coverage metrics for the content set"},
  {"unitId": "apps/illuminator/webui/src/components/preprint/TreeNodeRenderer.tsx::default", "purpose": "Renders a single tree node in the preprint content tree, distinguishing folder nodes from content nodes with appropriate interaction and drag handle support"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/focus.ts::applyFocusToContext", "purpose": "Filters a chronicle generation context down to only the entities, events, and relationships included in a given narrative focus selection"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/nameBank.ts::toCulture", "purpose": "Converts a Canonry CultureDefinition to the name-forge Culture format, returning null if the culture has no naming configuration"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/nameBank.ts::generateNameBank", "purpose": "Generates a pool of procedurally generated names for each specified culture ID using the name-forge library"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/nameBank.ts::extractCultureIds", "purpose": "Extracts a deduplicated list of culture ID strings from an array of entities that have a culture field"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/relationshipGraph.ts::buildEntityLookup", "purpose": "Builds a map from entity ID to name and kind, seeded from the entity list and supplemented with any relationship endpoint IDs not already present"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/relationshipGraph.ts::buildRelationshipPairSummaries", "purpose": "Produces bidirectional relationship pair summaries between all combinations of a set of entity IDs based on the adjacency graph"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::buildKindToCategoryMap", "purpose": "Builds a map from each entity kind string to its category for domain-agnostic category resolution at runtime"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::buildNeighborGraph", "purpose": "Builds a graph of all entity IDs reachable within a maximum number of relationship hops from a given entry point"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::computeEntityMetrics", "purpose": "Computes selection relevance metrics for a single entity candidate including distance from entry point, era overlap, relationship types, and cast diversity contribution"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::computeAllEntityMetrics", "purpose": "Computes selection metrics for all candidate entities in bulk and returns a map from entity ID to its metrics"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::computeTemporalScope", "purpose": "Derives a temporal scope label from a tick duration and whether the chronicle spans multiple eras"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::findEraForEvent", "purpose": "Finds the era record that an event belongs to by matching the event's era ID against the list of known eras"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::computeFocalEra", "purpose": "Identifies the era that contains the most events from the selection, used as the primary temporal anchor for a chronicle"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::computeTemporalContext", "purpose": "Computes the complete temporal context for a chronicle including tick range, era span, focal era, and temporal scope label"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::computeEventMetrics", "purpose": "Computes selection relevance metrics for a single narrative event including significance, era alignment, and involvement of cast members"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::computeAllEventMetrics", "purpose": "Computes selection metrics for all candidate events in bulk and returns a map from event ID to its metrics"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::scoreEventForSelection", "purpose": "Scores a narrative event for automatic selection based on its significance, focal era alignment, and involvement of the cast"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::suggestEventSelection", "purpose": "Auto-selects up to a maximum number of events ranked by their selection score, prioritizing the focal era"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::suggestRoleAssignments", "purpose": "Suggests role assignments for a chronicle by matching candidate entities to defined roles based on entry point proximity and relationship metrics"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::validateRoleAssignments", "purpose": "Validates that role assignments satisfy the narrative style's cast size constraints and required role definitions"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::getRelevantRelationships", "purpose": "Returns all relationships between the assigned cast entities, optionally including additional entity IDs"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::makeRelationshipId", "purpose": "Creates a canonical string relationship ID by concatenating source ID, destination ID, and relationship kind"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::collapseBidirectionalRelationships", "purpose": "Deduplicates symmetric relationships so that A-to-B and B-to-A appear as a single bidirectional entry"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::getRelevantEvents", "purpose": "Returns all narrative events that involve at least one assigned cast entity"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::isProminenceOnlyChronicleEvent", "purpose": "Returns true if all of an event's state changes for assigned entities are prominence-only, indicating the event is likely narrative noise"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::filterChronicleEvents", "purpose": "Filters a set of chronicle events by significance threshold and prominence-only exclusion to keep only narratively interesting events"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/selectionWizard.ts::buildWizardSelectionContext", "purpose": "Builds the full selection context for the chronicle wizard from an entry point entity, including neighbor candidates, events, and pre-computed metrics"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/storyPotential.ts::computeStoryPotential", "purpose": "Computes a story potential score and rating for a single entity based on its connection count, event involvement, kind diversity, and era span relative to the corpus maximum"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/storyPotential.ts::computeAllStoryPotentials", "purpose": "Computes story potential scores for all non-era entities in the corpus, normalizing against the highest observed raw stat values"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/storyPotential.ts::getConnectedEntities", "purpose": "Returns all entities directly connected to a given entity via a one-hop relationship, with the relationship kind and direction"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/storyPotential.ts::getUniqueKinds", "purpose": "Returns a sorted list of unique entity kind strings from a list, excluding the era kind"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/storyPotential.ts::scoreToRating", "purpose": "Converts a normalized story potential score between 0 and 1 into a 1-to-5 dot rating"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/timelineUtils.ts::getEraRanges", "purpose": "Converts era records into EraRange objects for timeline rendering, assigning colors and defaulting the end tick for ongoing eras"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/timelineUtils.ts::prepareTimelineEvents", "purpose": "Transforms narrative event records into TimelineEvent display objects annotated with involvement flags relative to the entry point and cast"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/timelineUtils.ts::computeIntensityCurve", "purpose": "Computes a smoothed intensity curve over simulation time by accumulating event significance in a rolling window for sparkline display"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/timelineUtils.ts::getEventsInRange", "purpose": "Filters timeline events to those whose tick falls within a given start and end tick range"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/timelineUtils.ts::getTimelineExtent", "purpose": "Returns the full simulation tick range as [0, maxEndTick] from the era boundaries for timeline scaling"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/timelineUtils.ts::tickToX", "purpose": "Maps a simulation tick value to an SVG x coordinate within a padded canvas width"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/timelineUtils.ts::xToTick", "purpose": "Maps an SVG x coordinate back to the nearest simulation tick value within the timeline extent"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/timelineUtils.ts::getEventFill", "purpose": "Returns the CSS color variable for an event marker based on whether it involves the entry point, a cast member, or neither"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/timelineUtils.ts::getEventHeight", "purpose": "Calculates the pixel height of a timeline event bar scaled between a minimum and maximum based on the event's significance"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/timelineUtils.ts::getCastMarkerShape", "purpose": "Returns the SVG path data and size for a cast marker shape based on the entity kind, using distinct geometric symbols per kind"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/timelineUtils.ts::getCastMarkerColor", "purpose": "Returns the fill color for a cast marker based on the entity kind using a pastel palette distinct from event fills"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/timelineUtils.ts::prepareCastMarkers", "purpose": "Builds a deduplicated list of cast marker display objects from role assignments, the entry point, and the narrative lens for timeline overlay rendering"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/timelineUtils.ts::computeEraRanges", "purpose": "Adapter that delegates era range computation to getEraRanges, ignoring the events parameter"},
  {"unitId": "apps/illuminator/webui/src/lib/chronicle/timelineUtils.ts::computeTimelineExtent", "purpose": "Adapter that delegates timeline extent computation to getTimelineExtent using the era array, ignoring the events parameter"},
  {"unitId": "apps/illuminator/webui/src/lib/db/chronicleNav.ts::buildNavItem", "purpose": "Constructs a ChronicleNavItem from a chronicle record with display name, role counts, word count, status, and active historian note count"},
  {"unitId": "apps/illuminator/webui/src/lib/db/chronicleRepository.ts::generateChronicleId", "purpose": "Generates a unique chronicle ID combining the current timestamp with a short UUID segment"},
  {"unitId": "apps/illuminator/webui/src/lib/db/chronicleRepository.ts::deriveTitleFromRoles", "purpose": "Derives a human-readable chronicle title from its role assignments, naming primary entities or falling back to a default"},
  {"unitId": "apps/illuminator/webui/src/lib/db/chronicleRepository.ts::deriveFocusType", "purpose": "Determines whether a chronicle has a single or ensemble focus based on the number of primary role assignments"},
  {"unitId": "apps/illuminator/webui/src/lib/db/chronicleRepository.ts::createChronicleShell", "purpose": "Persists an initial shell chronicle record to IndexedDB before generation begins, providing immediate UI feedback during async generation"},
  {"unitId": "apps/illuminator/webui/src/lib/db/chronicleRepository.ts::createChronicle", "purpose": "Creates and persists a complete chronicle record in IndexedDB for single-shot generation, setting status to assembly_ready immediately"},
  {"unitId": "apps/illuminator/webui/src/lib/db/chronicleRepository.ts::updateChronicleAssembly", "purpose": "Updates an existing chronicle record in IndexedDB with newly assembled content from a regeneration pass"},
  {"unitId": "apps/illuminator/webui/src/lib/db/chronicleRepository.ts::regenerateChronicleAssembly", "purpose": "Appends a new version to a chronicle's generation history and updates its assembled content and sampling parameters from a regeneration run"},
  {"unitId": "apps/illuminator/webui/src/lib/db/chronicleRepository.ts::updateChronicleEdit", "purpose": "Updates a chronicle record with post-validation revised content, appending a new version to the generation history"},
  {"unitId": "apps/illuminator/webui/src/lib/db/chronicleRepository.ts::updateChronicleFailure", "purpose": "Marks a chronicle record as failed in IndexedDB with the failed step, reason, and timestamp"},
  {"unitId": "apps/illuminator/webui/src/lib/db/chronicleRepository.ts::updateChronicleCohesion", "purpose": "Stores a cohesion validation report on a chronicle record and updates its status to validated in IndexedDB"}
]
